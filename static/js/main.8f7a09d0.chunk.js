(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a(316)},122:function(e,t,a){},124:function(e,t,a){},126:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){},132:function(e,t,a){},310:function(e,t,a){},312:function(e,t,a){},314:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(23),o=a.n(r),s=(a(122),a(9)),l=a(10),c=a(14),m=a(13),d=a(15),u=(a(124),a(126),a(128),a(130),a(39)),p=(a(132),a(20)),v=a.n(p),h=a(25),f=a.n(h),b=a(27),E=a.n(b),O=a(40),g=a.n(O),j=a(31),y=a.n(j),N=a(26),D=a.n(N),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isOpen:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"accept-edit"},i.a.createElement(f.a,{open:this.props.state.openAlert},i.a.createElement(D.a,null,"Ready to send?"),i.a.createElement(g.a,null,i.a.createElement(y.a,{id:"alert-dialog-description"},"Are you sure you want to update this movie?")),i.a.createElement(E.a,null,i.a.createElement(v.a,{onClick:function(){return e.props.editAccepted(!1)}},"No"),i.a.createElement(v.a,{onClick:function(){return e.props.editAccepted(!0)}},"Yes"))))}}]),t}(n.Component),C=a(28),M="GET_MOVIES_LIST_REQUEST",S="GET_MOVIES_LIST_RESPONSE",A="EDIT_MOVIE",k="DELETE_MOVIE",I="ADD_MOVIE",x="ID_GENE",w=a(54),Y=a.n(w),G=new(function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"getMovieByName",value:function(e){return Y.a.get("https://www.omdbapi.com/?t="+e+"&type=movie&apikey=ebf7786a")}},{key:"getMovieByImdbId",value:function(e){return Y.a.get("https://www.omdbapi.com/?i="+e+"&type=movie&apikey=ebf7786a")}},{key:"getMovieListByName",value:function(e){return Y.a.get("https://www.omdbapi.com/?s="+e+"&type=movie&apikey=ebf7786a")}}]),e}());function R(e){for(var t in e)!1===/^[a-zA-Z0-9!?&-. +]+$/.test(e[t])&&(e[t]=e[t].replace(/[^a-zA-Z0-9!?&-. +]/g,"")),isNaN(e[t])&&(e[t]=e[t].toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "));return e}var q=a(21),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).editAccepted=function(e){e?(R(a.state),a.props.editMovie({Title:a.state.Title,Year:a.state.Year,Runtime:a.state.Runtime,Genre:a.state.Genre,Director:a.state.Director,imdbID:a.props.movie.imdbID}),a.setState({openAlert:!1}),a.props.openEdit(!1)):a.setState({openAlert:!1})},a.handleChange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){a.setState({openAlert:!0}),e.preventDefault()},a.handleCancel=function(){a.setState({Title:a.props.movie.Title,Year:a.props.movie.Year,Runtime:a.props.movie.Runtime,Genre:a.props.movie.Genre,Director:a.props.movie.Director}),a.props.openEdit(!1)},a.state={Title:a.props.movie.Title,Year:a.props.movie.Year,Runtime:a.props.movie.Runtime,Genre:a.props.movie.Genre,Director:a.props.movie.Director,openAlert:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"movie-edit"},i.a.createElement(f.a,{open:this.props.isEditOpen},i.a.createElement(D.a,{id:"form-dialog-title"},"Edit Movie"),i.a.createElement(q.ValidatorForm,{className:"add-movie-form",onSubmit:this.handleSubmit},i.a.createElement(q.TextValidator,{validators:["required","isString"],value:this.state.Title,margin:"normal",name:"Title",onChange:this.handleChange,label:"Title",type:"text",errorMessages:["This field is required","Title is not valid"],fullWidth:!0}),i.a.createElement(q.TextValidator,{validators:["required","isNumber","minNumber:1700"],value:this.state.Year,margin:"normal",name:"Year",onChange:this.handleChange,label:"Year",type:"text",errorMessages:["This field is required","Year is not valid","Year is not valid"],fullWidth:!0}),i.a.createElement(q.TextValidator,{validators:["required","isString"],value:this.state.Runtime,margin:"normal",name:"Runtime",onChange:this.handleChange,label:"Runtime",type:"text",errorMessages:["This field is required","Runtime is not valid"],fullWidth:!0}),i.a.createElement(q.TextValidator,{validators:["required","isString"],value:this.state.Genre,margin:"normal",name:"Genre",onChange:this.handleChange,label:"Genre",type:"text",errorMessages:["This field is required","Genre is not valid"],fullWidth:!0}),i.a.createElement(q.TextValidator,{validators:["required","isString"],value:this.state.Director,margin:"normal",name:"Director",onChange:this.handleChange,label:"Director",type:"text",errorMessages:["This field is required","Director's name is not valid"],fullWidth:!0}),i.a.createElement(E.a,null,i.a.createElement(v.a,{className:"movie-edit-btn",type:"submit",color:"primary"}," Send "),i.a.createElement(v.a,{className:"movie-edit-btn",onClick:this.handleCancel,color:"primary"}," Cancel ")))),i.a.createElement(T,{state:this.state,editAccepted:this.editAccepted}))}}]),t}(n.Component),V=Object(C.b)(null,function(e){return{editMovie:function(t){return e(function(e){return{type:A,payload:e}}(t))}}})(_),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isOpen:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"delete-popup"},i.a.createElement(f.a,{open:this.props.isDeleteOpen},i.a.createElement(D.a,null,"Want to delete?"),i.a.createElement(g.a,null,i.a.createElement(y.a,{id:"alert-dialog-description"},'Are you sure you want to delete "',this.props.movie.Title,'"?')),i.a.createElement(E.a,null,i.a.createElement(v.a,{onClick:function(){return e.props.deleteMovie(!1)}},"No"),i.a.createElement(v.a,{onClick:function(){return e.props.deleteMovie(!0)}},"Yes"))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).openOptions=function(){a.setState({isOptionOpen:!a.state.isOptionOpen})},a.openEdit=function(e){!0===e?a.setState({isOptionOpen:!a.state.isOptionOpen,isEditOpen:!a.state.isEditOpen}):a.setState({isEditOpen:!a.state.isEditOpen})},a.deleteMovie=function(e){e?(a.props.deleteMovie(a.props.movie),a.setState({isDeleteOpen:!1})):a.setState({isDeleteOpen:!1}),a.openOptions()},a.state={isOptionOpen:!1,isEditOpen:!1,isDeleteOpen:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"movie-container"},i.a.createElement("div",{className:"movie-picture",style:{backgroundImage:"url(".concat(this.props.movie.Poster,")")}}),i.a.createElement("div",{className:"movie-container-bottom"},i.a.createElement("div",{className:"movie-info"},i.a.createElement("span",{className:"movie-title"},this.props.movie.Title),i.a.createElement("span",{className:"movie-year"},this.props.movie.Year)),i.a.createElement("i",{className:"fas fa-ellipsis-h",onClick:this.openOptions}),i.a.createElement("div",{className:this.state.isOptionOpen?"movie-options movie-options-open":"movie-options"},i.a.createElement("span",{className:"options-btn",onClick:function(){return e.openEdit(!0)}},"Edit"),i.a.createElement("span",{className:"options-btn",onClick:function(){return e.setState({isDeleteOpen:!0})}},"Delete"))),i.a.createElement(V,{isEditOpen:this.state.isEditOpen,openEdit:this.openEdit,movie:this.props.movie}),i.a.createElement(W,{isDeleteOpen:this.state.isDeleteOpen,deleteMovie:this.deleteMovie,movie:this.props.movie}))}}]),t}(n.Component),P=Object(C.b)(null,function(e){return{deleteMovie:function(t){return e(function(e){return{type:k,payload:e}}(t))}}})(L),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={movies:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchMovies(this.props.moviesId)}},{key:"render",value:function(){return i.a.createElement("div",{className:"movie-display"},this.props.moviesArr.map(function(e){return i.a.createElement(P,{movie:e.data})}))}}]),t}(n.Component),z=Object(C.b)(function(e){return{moviesId:e.moviesId,moviesArr:e.moviesArr,fetching:e.fetching}},function(e){return{fetchMovies:function(t){return e((a=t,function(e){return Promise.all(a.map(function(e){return G.getMovieByImdbId(e)})).then(function(t){e({type:S,payload:t})})}));var a}}})(B);a(310),a(312);var U=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"duplicate-popup"},i.a.createElement(f.a,{open:this.props.state.isDuplicate},i.a.createElement(D.a,null,"Duplicate"),i.a.createElement(g.a,null,i.a.createElement(y.a,{id:"alert-dialog-description"},'Sorry but the movie "',this.props.state.Title,'" already exists in the database. Try adding another movie.')),i.a.createElement(E.a,null,i.a.createElement(v.a,{onClick:this.props.closeDuplicate},"Ok"))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){(function(e,t){var a=0;return t.map(function(t){t.data.Title==e.Title&&a++}),a})(a.state,a.props.moviesArr)>0?a.setState({isDuplicate:!0}):(R(a.state),a.props.addMovie({Title:a.state.Title,Year:a.state.Year,Runtime:a.state.Runtime,Genre:a.state.Genre,Director:a.state.Director,imdbID:a.props.addId,Poster:"https://i.imgur.com/Z2MYNbj.png/large_movie_poster.png"}),a.props.toggleAddMovie(),a.props.idGene(),a.setState({Title:"",Year:"",Runtime:"",Genre:"",Director:""})),e.preventDefault()},a.closeDuplicate=function(){a.setState({isDuplicate:!1})},a.state={Title:"",Year:"",Runtime:"",Genre:"",Director:"",isDuplicate:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"add-movie"},i.a.createElement(f.a,{open:this.props.addMovieOpen},i.a.createElement(D.a,{className:"add-movie-title"},"Add a Movie"),i.a.createElement(y.a,{className:"add-movie-description"},"Please fill all the fields."),i.a.createElement(q.ValidatorForm,{className:"add-movie-form",onSubmit:this.handleSubmit},i.a.createElement(q.TextValidator,{validators:["required","isString"],value:this.state.Title,margin:"normal",name:"Title",onChange:this.handleChange,label:"Title",type:"text",errorMessages:["This field is required","Title is not valid"],fullWidth:!0}),i.a.createElement(q.TextValidator,{validators:["required","isNumber","minNumber:1700"],value:this.state.Year,margin:"normal",name:"Year",onChange:this.handleChange,label:"Year",type:"text",errorMessages:["This field is required","Year is not valid","Year is not valid"],fullWidth:!0}),i.a.createElement(q.TextValidator,{validators:["required","isString"],value:this.state.Runtime,margin:"normal",name:"Runtime",onChange:this.handleChange,label:"Runtime",type:"text",errorMessages:["This field is required","Runtime is not valid"],fullWidth:!0}),i.a.createElement(q.TextValidator,{validators:["required","isString"],value:this.state.Genre,margin:"normal",name:"Genre",onChange:this.handleChange,label:"Genre",type:"text",errorMessages:["This field is required","Genre is not valid"],fullWidth:!0}),i.a.createElement(q.TextValidator,{validators:["required","isString"],value:this.state.Director,margin:"normal",name:"Director",onChange:this.handleChange,label:"Director",type:"text",errorMessages:["This field is required","Director's name is not valid"],fullWidth:!0}),i.a.createElement(E.a,null,i.a.createElement(v.a,{className:"movie-edit-btn",type:"submit",color:"primary"}," Send "),i.a.createElement(v.a,{className:"movie-edit-btn",onClick:this.props.toggleAddMovie,color:"primary"}," Cancel ")))),i.a.createElement(U,{state:this.state,closeDuplicate:this.closeDuplicate}))}}]),t}(n.Component),F=Object(C.b)(function(e){return{addId:e.addId,moviesArr:e.moviesArr}},function(e){return{addMovie:function(t){return e(function(e){return{type:I,payload:[{data:e,time:Date.now()}]}}(t))},idGene:function(){return e({type:x})}}})(Z),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggleAddMovie=function(){a.setState({addMovieOpen:!a.state.addMovieOpen})},a.state={addMovieOpen:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"header-background"},i.a.createElement("div",{className:"top-header"},i.a.createElement("div",{className:"header-link-container"},i.a.createElement("div",{className:"header-link-btn",onClick:function(){return window.scrollTo(0,0)}},i.a.createElement("span",{className:"header-link-text"}," Home ")),i.a.createElement("div",{className:"header-link-btn",onClick:this.toggleAddMovie},i.a.createElement("span",{className:"header-link-text"}," Add Movies ")))),i.a.createElement("div",{className:"header-info"},i.a.createElement("span",{className:"header-title"},"Cinema"),i.a.createElement("span",{className:"header-description"},"Your Movie Database Organizer")),i.a.createElement(F,{addMovieOpen:this.state.addMovieOpen,toggleAddMovie:this.toggleAddMovie})))}}]),t}(n.Component),X=(a(314),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"footer"},i.a.createElement("div",{className:"footer-text"},"Name: Lucas Lyra"),i.a.createElement("div",{className:"footer-text"},"Email: lucalyra@gmail.com"))}}]),t}(n.Component)),H=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"main-page"},i.a.createElement(J,null),i.a.createElement(z,null),i.a.createElement(X,null))}}]),t}(n.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(H,null))}}]),t}(n.Component),$=a(44),K=a(45),ee=a(32),te={moviesId:["tt1987680","tt1987682","tt4154916","tt7616798","tt6101820","tt4633694","tt1650060","tt2709692","tt1571234","tt1727824","tt5715828","tt6966692","tt4123430","tt0137523","tt0485947","tt0756683"],moviesArr:[],fetching:!1,addId:0},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{fetching:!0};case S:return Object(ee.a)({},e,{moviesArr:t.payload,fetching:!1});case A:return Object(ee.a)({},e,{moviesArr:e.moviesArr.map(function(e){return e.data.imdbID===t.payload.imdbID?(e.data=Object(ee.a)({},e.data,t.payload),e):e})});case k:return Object(ee.a)({},e,{moviesArr:[].concat(Object(K.a)(e.moviesArr.slice(0,e.moviesArr.findIndex(function(e){return e.data.imdbID===t.payload.imdbID}))),Object(K.a)(e.moviesArr.slice(e.moviesArr.findIndex(function(e){return e.data.imdbID===t.payload.imdbID})+1)))});case I:return Object(ee.a)({},e,{moviesArr:[].concat(Object(K.a)(e.moviesArr),Object(K.a)(t.payload))});case x:return Object(ee.a)({},e,{addId:e.addId++});default:return e}},ne=a(116),ie=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Object($.c)(ae,Object($.a)(ne.a)));o.a.render(i.a.createElement(C.a,{store:ie},i.a.createElement(Q,null)),document.getElementById("root"))}},[[117,2,1]]]);
//# sourceMappingURL=main.8f7a09d0.chunk.js.map