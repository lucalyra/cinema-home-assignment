(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a(316)},122:function(e,t,a){},124:function(e,t,a){},126:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){},132:function(e,t,a){},306:function(e,t,a){},308:function(e,t,a){},314:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(22),o=a.n(r),l=(a(122),a(9)),s=a(10),c=a(14),m=a(13),u=a(15),d=(a(124),a(126),a(128),a(130),a(41)),p=(a(132),a(20)),v=a.n(p),h=a(24),b=a.n(h),f=a(26),E=a.n(f),O=a(30),g=a.n(O),j=a(31),y=a.n(j),D=a(25),C=a.n(D),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isOpen:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"accept-edit"},i.a.createElement(b.a,{open:this.props.state.openAlert},i.a.createElement(C.a,null,"Ready to send?"),i.a.createElement(g.a,null,i.a.createElement(y.a,{id:"alert-dialog-description"},"Are you sure you want to update this movie?")),i.a.createElement(E.a,null,i.a.createElement(v.a,{onClick:function(){return e.props.editAccepted(!0)}},"Yes"),i.a.createElement(v.a,{onClick:function(){return e.props.editAccepted(!1)}},"No"))))}}]),t}(n.Component),M=a(27),k="GET_MOVIES_LIST_REQUEST",T="GET_MOVIES_LIST_RESPONSE",A="EDIT_MOVIE",I="DELETE_MOVIE",S="ADD_MOVIE",w="ID_GENE",x=a(55),Y=a.n(x),G=new(function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"getMovieByName",value:function(e){return Y.a.get("https://www.omdbapi.com/?t="+e+"&type=movie&apikey=ebf7786a")}},{key:"getMovieByImdbId",value:function(e){return Y.a.get("https://www.omdbapi.com/?i="+e+"&type=movie&apikey=ebf7786a")}},{key:"getMovieListByName",value:function(e){return Y.a.get("https://www.omdbapi.com/?s="+e+"&type=movie&apikey=ebf7786a")}}]),e}());var R=a(32),_=a.n(R),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).editAccepted=function(e){e?(a.props.editMovie({Title:a.state.Title,Year:a.state.Year,Runtime:a.state.Runtime,Genre:a.state.Genre,Director:a.state.Director,imdbID:a.props.movie.imdbID}),a.setState({openAlert:!1}),a.props.openEdit(!1)):a.setState({openAlert:!1})},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){a.setState({openAlert:!0}),e.preventDefault()},a.state={Title:a.props.movie.Title,Year:a.props.movie.Year,Runtime:a.props.movie.Runtime,Genre:a.props.movie.Genre,Director:a.props.movie.Director,openAlert:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"movie-edit"},i.a.createElement(b.a,{open:this.props.isEditOpen},i.a.createElement(C.a,{id:"form-dialog-title"},"Edit Movie"),i.a.createElement(g.a,null,i.a.createElement(_.a,{autoFocus:!0,value:this.state.Title,margin:"normal",name:"Title",onChange:this.handleChange,label:"Title",type:"text",fullWidth:!0}),i.a.createElement(_.a,{value:this.state.Year,margin:"normal",name:"Year",onChange:this.handleChange,label:"Year",type:"text",fullWidth:!0}),i.a.createElement(_.a,{value:this.state.Runtime,margin:"normal",name:"Runtime",onChange:this.handleChange,label:"Runtime",type:"text",fullWidth:!0}),i.a.createElement(_.a,{value:this.state.Genre,margin:"normal",name:"Genre",onChange:this.handleChange,label:"Genre",type:"text",fullWidth:!0}),i.a.createElement(_.a,{value:this.state.Director,margin:"normal",name:"Director",onChange:this.handleChange,label:"Director",type:"text",fullWidth:!0})),i.a.createElement(E.a,null,i.a.createElement(v.a,{className:"movie-edit-btn",onClick:this.handleSubmit,color:"primary"}," Send "),i.a.createElement(v.a,{className:"movie-edit-btn",onClick:function(){return e.props.openEdit(!1)},color:"primary"}," Cancel "))),i.a.createElement(N,{state:this.state,editAccepted:this.editAccepted}))}}]),t}(n.Component),W=Object(M.b)(null,function(e){return{editMovie:function(t){return e(function(e){return{type:A,payload:e}}(t))}}})(V),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isOpen:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"delete-popup"},i.a.createElement(b.a,{open:this.props.isDeleteOpen},i.a.createElement(C.a,null,"Want to delete?"),i.a.createElement(g.a,null,i.a.createElement(y.a,{id:"alert-dialog-description"},"Are you sure you want to delete this movie?")),i.a.createElement(E.a,null,i.a.createElement(v.a,{onClick:function(){return e.props.deleteMovie(!1)}},"No"),i.a.createElement(v.a,{onClick:function(){return e.props.deleteMovie(!0)}},"Yes"))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).openOptions=function(){a.setState({isOptionOpen:!a.state.isOptionOpen})},a.openEdit=function(e){!0===e?a.setState({isOptionOpen:!a.state.isOptionOpen,isEditOpen:!a.state.isEditOpen}):a.setState({isEditOpen:!a.state.isEditOpen})},a.deleteMovie=function(e){e?(a.props.deleteMovie(a.props.movie),a.setState({isDeleteOpen:!1})):a.setState({isDeleteOpen:!1}),a.openOptions()},a.state={isOptionOpen:!1,isEditOpen:!1,isDeleteOpen:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"movie-container"},i.a.createElement("div",{className:"movie-picture",style:{backgroundImage:"url(".concat(this.props.movie.Poster,")")}}),i.a.createElement("div",{className:"movie-container-bottom"},i.a.createElement("div",{className:"movie-info"},i.a.createElement("span",{className:"movie-title"},this.props.movie.Title),i.a.createElement("span",{className:"movie-year"},this.props.movie.Year)),i.a.createElement("i",{className:"fas fa-ellipsis-h",onClick:this.openOptions}),i.a.createElement("div",{className:this.state.isOptionOpen?"movie-options movie-options-open":"movie-options"},i.a.createElement("span",{className:"options-btn",onClick:function(){return e.openEdit(!0)}},"Edit"),i.a.createElement("span",{className:"options-btn",onClick:function(){return e.setState({isDeleteOpen:!0})}},"Delete"))),i.a.createElement(W,{isEditOpen:this.state.isEditOpen,openEdit:this.openEdit,movie:this.props.movie}),i.a.createElement(q,{isDeleteOpen:this.state.isDeleteOpen,deleteMovie:this.deleteMovie}))}}]),t}(n.Component),P=Object(M.b)(null,function(e){return{deleteMovie:function(t){return e(function(e){return{type:I,payload:e}}(t))}}})(L),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={movies:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchMovies(this.props.moviesId)}},{key:"render",value:function(){return i.a.createElement("div",{className:"movie-display"},this.props.moviesArr.map(function(e){return i.a.createElement(P,{movie:e.data})}))}}]),t}(n.Component),F=Object(M.b)(function(e){return{moviesId:e.moviesId,moviesArr:e.moviesArr,fetching:e.fetching}},function(e){return{fetchMovies:function(t){return e((a=t,function(e){return Promise.all(a.map(function(e){return G.getMovieByImdbId(e)})).then(function(t){e({type:T,payload:t})})}));var a}}})(B);a(306),a(308);var J=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"duplicate-popup"},i.a.createElement(b.a,{open:this.props.state.isDuplicate},i.a.createElement(C.a,null,"Duplicate"),i.a.createElement(g.a,null,i.a.createElement(y.a,{id:"alert-dialog-description"},'Sorry but the movie "',this.props.state.Title,'" already exists in the database. Try adding another movie.')),i.a.createElement(E.a,null,i.a.createElement(v.a,{onClick:this.props.closeDuplicate},"Ok"))))}}]),t}(n.Component),U=a(33),X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){(function(e,t){var a=0;return t.map(function(t){t.data.Title==e.Title&&a++}),a})(a.state,a.props.moviesArr)>0?a.setState({isDuplicate:!0}):(a.props.addMovie({Title:a.state.Title,Year:a.state.Year,Runtime:a.state.Runtime,Genre:a.state.Genre,Director:a.state.Director,imdbID:a.props.addId,Poster:"https://i.imgur.com/Z2MYNbj.png/large_movie_poster.png"}),a.props.toggleAddMovie(),a.props.idGene(),a.setState({Title:"",Year:"",Runtime:"",Genre:"",Director:""})),e.preventDefault()},a.closeDuplicate=function(){a.setState({isDuplicate:!1})},a.state={Title:"",Year:"",Runtime:"",Genre:"",Director:"",isDuplicate:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"add-movie"},i.a.createElement(b.a,{open:this.props.addMovieOpen},i.a.createElement(C.a,{className:"add-movie-title"},"Add a Movie"),i.a.createElement(y.a,{className:"add-movie-description"},"Please fill all the fields."),i.a.createElement(U.ValidatorForm,{className:"add-movie-form",onSubmit:this.handleSubmit},i.a.createElement(U.TextValidator,{autoFocus:!0,validators:["required","isString"],value:this.state.Title,margin:"normal",name:"Title",onChange:this.handleChange,label:"Title",type:"text",errorMessages:["This field is required","Title is not valid"],fullWidth:!0}),i.a.createElement(U.TextValidator,{validators:["required","isNumber","minNumber:1700"],value:this.state.Year,margin:"normal",name:"Year",onChange:this.handleChange,label:"Year",type:"text",errorMessages:["This field is required","Year is not valid","Year is not valid"],fullWidth:!0}),i.a.createElement(U.TextValidator,{validators:["required","isString"],value:this.state.Runtime,margin:"normal",name:"Runtime",onChange:this.handleChange,label:"Runtime",type:"text",errorMessages:["This field is required","Runtime is not valid"],fullWidth:!0}),i.a.createElement(U.TextValidator,{validators:["required","isString"],value:this.state.Genre,margin:"normal",name:"Genre",onChange:this.handleChange,label:"Genre",type:"text",errorMessages:["This field is required","Genre is not valid"],fullWidth:!0}),i.a.createElement(U.TextValidator,{validators:["required","isString"],value:this.state.Director,margin:"normal",name:"Director",onChange:this.handleChange,label:"Director",type:"text",errorMessages:["This field is required","Director's name is not valid"],fullWidth:!0}),i.a.createElement(E.a,null,i.a.createElement(v.a,{className:"movie-edit-btn",type:"submit",color:"primary"}," Send "),i.a.createElement(v.a,{className:"movie-edit-btn",onClick:this.props.toggleAddMovie,color:"primary"}," Cancel ")))),i.a.createElement(J,{state:this.state,closeDuplicate:this.closeDuplicate}))}}]),t}(n.Component),z=Object(M.b)(function(e){return{addId:e.addId,moviesArr:e.moviesArr}},function(e){return{addMovie:function(t){return e(function(e){return{type:S,payload:[{data:e,time:Date.now()}]}}(t))},idGene:function(){return e({type:w})}}})(X),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggleAddMovie=function(){a.setState({addMovieOpen:!a.state.addMovieOpen})},a.state={addMovieOpen:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"header-background"},i.a.createElement("div",{className:"top-header"},i.a.createElement("div",{className:"header-link-container"},i.a.createElement("div",{className:"header-link-btn",onClick:function(){return window.scrollTo(0,0)}},i.a.createElement("span",{className:"header-link-text"}," Home ")),i.a.createElement("div",{className:"header-link-btn"},i.a.createElement("span",{className:"header-link-text",onClick:this.toggleAddMovie}," Add Movies ")))),i.a.createElement("div",{className:"header-info"},i.a.createElement("span",{className:"header-title"},"Cinema"),i.a.createElement("span",{className:"header-description"},"Your Movie Database Organizer")),i.a.createElement(z,{addMovieOpen:this.state.addMovieOpen,toggleAddMovie:this.toggleAddMovie})))}}]),t}(n.Component),Q=(a(314),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"footer"},i.a.createElement("div",null,"Lucas Lyra"),i.a.createElement("div",null,"Email: lucalyra@gmail.com"))}}]),t}(n.Component)),Z=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"main-page"},i.a.createElement(H,null),i.a.createElement(F,null),i.a.createElement(Q,null))}}]),t}(n.Component),K=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(Z,null))}}]),t}(n.Component),$=a(45),ee=a(46),te=a(34),ae={moviesId:["tt1987680","tt1987682","tt4154916","tt7616798","tt6101820","tt4633694","tt1650060","tt2709692","tt1571234","tt1727824","tt5715828","tt6966692","tt4123430"],moviesArr:[],fetching:!1,addId:0},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{fetching:!0};case T:return Object(te.a)({},e,{moviesArr:t.payload,fetching:!1});case A:return Object(te.a)({},e,{moviesArr:e.moviesArr.map(function(e){return e.data.imdbID===t.payload.imdbID?(e.data=Object(te.a)({},e.data,t.payload),e):e})});case I:return Object(te.a)({},e,{moviesArr:[].concat(Object(ee.a)(e.moviesArr.slice(0,e.moviesArr.findIndex(function(e){return e.data.imdbID===t.payload.imdbID}))),Object(ee.a)(e.moviesArr.slice(e.moviesArr.findIndex(function(e){return e.data.imdbID===t.payload.imdbID})+1)))});case S:return Object(te.a)({},e,{moviesArr:[].concat(Object(ee.a)(e.moviesArr),Object(ee.a)(t.payload))});case w:return Object(te.a)({},e,{addId:e.addId++});default:return e}},ie=a(116),re=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Object($.c)(ne,Object($.a)(ie.a)));o.a.render(i.a.createElement(M.a,{store:re},i.a.createElement(K,null)),document.getElementById("root"))}},[[117,2,1]]]);
//# sourceMappingURL=main.4dcd295a.chunk.js.map